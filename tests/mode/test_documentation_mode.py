"""\nTest documentation mode configuration.\n"""\n\nimport pytest\nimport tempfile\nimport sys\nfrom pathlib import Path\nfrom unittest.mock import patch\n\n# Add project to path\nsys.path.insert(0, str(Path(__file__).parent.parent))\n\nfrom wikigen.config import load_config, save_config\nfrom wikigen.defaults import DEFAULT_CONFIG\n\n\nclass TestDocumentationMode:\n    """Test documentation mode configuration."""\n\n    def test_default_is_minimal(self):\n        """Test that DEFAULT_CONFIG has minimal as default."""\n        assert (\n            DEFAULT_CONFIG["documentation_mode"] == "minimal"\n        ), "Default should be minimal"\n\n    def test_config_saves_documentation_mode(self):\n        """Test that documentation_mode can be saved and loaded."""\n        with tempfile.TemporaryDirectory() as temp_dir:\n            config_file = Path(temp_dir) / "config.json"\n            with patch("wikigen.config.CONFIG_FILE", config_file):\n                # Test minimal mode\n                test_config = {\n                    "output_dir": "/tmp/test",\n                    "language": "english",\n                    "max_abstractions": 10,\n                    "documentation_mode": "minimal",\n                }\n                save_config(test_config)\n                loaded_config = load_config()\n                assert (\n                    loaded_config.get("documentation_mode") == "minimal"\n                ), "Should save and load minimal mode"\n\n                # Test comprehensive mode\n                test_config["documentation_mode"] = "comprehensive"\n                save_config(test_config)\n                loaded_config = load_config()\n                assert (\n                    loaded_config.get("documentation_mode") == "comprehensive"\n                ), "Should save and load comprehensive mode"\n\n    def test_config_defaults_to_minimal_when_not_set(self):\n        """Test that config defaults to minimal when documentation_mode is not set."""\n        with tempfile.TemporaryDirectory() as temp_dir:\n            config_file = Path(temp_dir) / "config.json"\n            with patch("wikigen.config.CONFIG_FILE", config_file):\n                # Save config without documentation_mode\n                test_config = {\n                    "output_dir": "/tmp/test",\n                    "language": "english",\n                    "max_abstractions": 10,\n                }\n                save_config(test_config)\n                loaded_config = load_config()\n                # Should get minimal from DEFAULT_CONFIG\n                assert (\n                    loaded_config.get("documentation_mode") == "minimal"\n                ), "Should default to minimal when not set"\n\n\nif __name__ == "__main__":\n    pytest.main([__file__, "-v"])